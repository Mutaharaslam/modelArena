class ModelArena{constructor(){this.init()}init(){this.initializeComponents(),this.bindEvents(),this.setupLazyLoading(),this.setupAccessibility()}initializeComponents(){this.mobileMenu=new MobileMenu,this.searchForm=new SearchForm,this.favoriteButtons=new FavoriteButtons,this.imageLoader=new ImageLoader}bindEvents(){let e;document.addEventListener("DOMContentLoaded",()=>{this.setupSmoothScroll(),this.setupFormValidation()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&this.mobileMenu.close()}),window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(()=>{this.handleResize()},250)})}setupSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const s=document.querySelector(e.getAttribute("href"));s&&s.scrollIntoView({behavior:"smooth",block:"start"})})})}setupLazyLoading(){if("IntersectionObserver"in window){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const s=e.target;this.imageLoader.loadImage(s),t.unobserve(s)}})},{rootMargin:"50px 0px",threshold:.01});document.querySelectorAll('img[loading="lazy"]').forEach(t=>{e.observe(t)})}}setupFormValidation(){document.querySelectorAll("form").forEach(e=>{e.addEventListener("submit",t=>{this.validateForm(e)||t.preventDefault()})})}validateForm(e){let t=!0;return e.querySelectorAll("input[required], textarea[required]").forEach(e=>{e.value.trim()?this.clearValidationError(e):(this.showValidationError(e,"This field is required"),t=!1)}),t}showValidationError(e,t){e.classList.add("is-invalid");let s=e.parentNode.querySelector(".form-error");s||(s=document.createElement("span"),s.className="form-error",e.parentNode.appendChild(s)),s.textContent=t}clearValidationError(e){e.classList.remove("is-invalid");const t=e.parentNode.querySelector(".form-error");t&&t.remove()}setupAccessibility(){document.addEventListener("keydown",e=>{"Tab"===e.key&&document.body.classList.add("using-keyboard")}),document.addEventListener("mousedown",()=>{document.body.classList.remove("using-keyboard")});const e=document.querySelector(".skip-link");e&&e.addEventListener("click",t=>{t.preventDefault();const s=document.querySelector(e.getAttribute("href"));s&&(s.focus(),s.scrollIntoView())})}handleResize(){window.innerWidth>=768&&this.mobileMenu.close()}}class MobileMenu{constructor(){this.menuToggle=document.querySelector(".header__menu-toggle"),this.mobileNav=document.querySelector(".mobile-nav"),this.header=document.querySelector(".header"),this.isOpen=!1,this.menuToggle&&this.bindEvents()}bindEvents(){this.menuToggle.addEventListener("click",()=>{this.toggle()}),document.addEventListener("click",e=>{!this.isOpen||this.menuToggle.contains(e.target)||this.mobileNav?.contains(e.target)||this.close()}),this.mobileNav&&this.mobileNav.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{this.close()})})}toggle(){this.isOpen?this.close():this.open()}open(){this.isOpen=!0,this.menuToggle.setAttribute("aria-expanded","true"),this.mobileNav?.classList.add("is-open"),document.body.style.overflow="hidden"}close(){this.isOpen=!1,this.menuToggle.setAttribute("aria-expanded","false"),this.mobileNav?.classList.remove("is-open"),document.body.style.overflow=""}}class SearchForm{constructor(){this.searchForm=document.querySelector(".search-form"),this.searchInput=document.querySelector(".search-form__input"),this.searchButton=document.querySelector(".search-form__button"),this.searchForm&&this.bindEvents()}bindEvents(){this.searchForm.addEventListener("submit",e=>{e.preventDefault(),this.handleSearch()}),this.searchInput.addEventListener("input",()=>{this.handleSearchInput()}),this.searchInput.addEventListener("keydown",e=>{"Escape"===e.key&&this.clearSearch()})}handleSearch(){const e=this.searchInput.value.trim();e&&(console.log("Searching for:",e),this.showSearchResults(e))}handleSearchInput(){const e=this.searchInput.value.trim();e.length>2?this.showSuggestions(e):this.hideSuggestions()}showSearchResults(e){console.log("Showing results for:",e)}showSuggestions(e){console.log("Showing suggestions for:",e)}hideSuggestions(){}clearSearch(){this.searchInput.value="",this.hideSuggestions(),this.searchInput.blur()}}class FavoriteButtons{constructor(){this.favoriteButtons=document.querySelectorAll(".favorite-btn"),this.favorites=this.loadFavorites(),this.favoriteButtons.length>0&&(this.bindEvents(),this.updateButtonStates())}bindEvents(){this.favoriteButtons.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),this.toggleFavorite(e)})})}toggleFavorite(e){const t=e.closest(".model-card"),s=t?.dataset.modelId||Math.random().toString(36).substr(2,9);this.favorites.includes(s)?(this.removeFavorite(s),e.classList.remove("is-active"),this.showToast("Removed from favorites")):(this.addFavorite(s),e.classList.add("is-active"),this.showToast("Added to favorites")),e.style.transform="scale(1.2)",setTimeout(()=>{e.style.transform=""},150)}addFavorite(e){this.favorites.push(e),this.saveFavorites()}removeFavorite(e){this.favorites=this.favorites.filter(t=>t!==e),this.saveFavorites()}loadFavorites(){try{return JSON.parse(localStorage.getItem("modelArenaFavorites")||"[]")}catch{return[]}}saveFavorites(){localStorage.setItem("modelArenaFavorites",JSON.stringify(this.favorites))}updateButtonStates(){this.favoriteButtons.forEach(e=>{const t=e.closest(".model-card"),s=t?.dataset.modelId;s&&this.favorites.includes(s)&&e.classList.add("is-active")})}showToast(e){const t=document.createElement("div");t.className="toast",t.textContent=e,t.style.cssText="\n      position: fixed;\n      bottom: 20px;\n      right: 20px;\n      background: var(--color-gray-900);\n      color: white;\n      padding: 12px 16px;\n      border-radius: 8px;\n      font-size: 14px;\n      z-index: 1000;\n      opacity: 0;\n      transform: translateY(20px);\n      transition: all 0.3s ease;\n    ",document.body.appendChild(t),requestAnimationFrame(()=>{t.style.opacity="1",t.style.transform="translateY(0)"}),setTimeout(()=>{t.style.opacity="0",t.style.transform="translateY(20px)",setTimeout(()=>{document.body.removeChild(t)},300)},3e3)}}class ImageLoader{constructor(){this.loadedImages=new Set}loadImage(e){if(this.loadedImages.has(e.src))return;const t=new Image;t.onload=()=>{e.src=t.src,e.classList.add("loaded"),this.loadedImages.add(e.src)},t.onerror=()=>{e.classList.add("error"),e.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDMwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjVGNUY1Ii8+CjxyZWN0IHg9IjEyNSIgeT0iMTc1IiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNFMEUwRTAiLz4KPC9zdmc+"},t.src=e.dataset.src||e.src}}class PerformanceMonitor{constructor(){this.measurePageLoad()}measurePageLoad(){window.addEventListener("load",()=>{if("performance"in window){const e=performance.getEntriesByType("navigation")[0];console.log("Page load time:",e.loadEventEnd-e.loadEventStart,"ms")}})}}const utils={debounce(e,t){let s;return function(...o){clearTimeout(s),s=setTimeout(()=>{clearTimeout(s),e(...o)},t)}},throttle(e,t){let s;return function(){const o=arguments,i=this;s||(e.apply(i,o),s=!0,setTimeout(()=>s=!1,t))}},formatNumber:e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString()};document.addEventListener("DOMContentLoaded",()=>{new ModelArena,new PerformanceMonitor}),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});