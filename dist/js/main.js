class ModelArena{constructor(){this.componentLoader=new ComponentLoader,this.cachedElements={},this.components={},this.isInitialized=!1,requestAnimationFrame(()=>this.init())}async init(){this.isInitialized||(await this.componentLoader.loadAllComponents(),document.addEventListener("componentLoaded",()=>{this.cacheElements(),this.initializePageSpecific(),this.bindEvents(),this.setupLazyLoading(),this.setupAccessibility(),this.isInitialized=!0},{once:!0}))}cacheElements(){this.cachedElements={body:document.body,header:document.querySelector("header"),mobileMenuToggle:document.getElementById("mobile-menu-toggle"),mobileNav:document.getElementById("mobile-nav"),mobileSearchToggle:document.getElementById("mobile-search-toggle"),mobileSearchField:document.getElementById("mobile-search-field"),loginModal:document.getElementById("login-modal"),signupModal:document.getElementById("signup-modal")}}initializePageSpecific(){this.components.searchForm=new SearchForm,this.components.favoriteButtons=new FavoriteButtons,this.components.imageLoader=new ImageLoader,console.log("Page-specific components initialized")}bindEvents(){this.resizeHandler=this.debounce(()=>this.handleResize(),250),window.addEventListener("resize",this.resizeHandler,{passive:!0}),document.addEventListener("keydown",e=>{"Escape"===e.key&&(Object.values(this.components).forEach(e=>{e&&"function"==typeof e.close&&e.close()}),this.components.authModals?.closeAll&&this.components.authModals.closeAll())}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.setupPageFeatures(),{once:!0}):this.setupPageFeatures()}setupPageFeatures(){this.setupSmoothScroll(),this.setupFormValidation()}setupSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const s=document.querySelector(e.getAttribute("href"));s&&s.scrollIntoView({behavior:"smooth",block:"start"})})})}setupLazyLoading(){if("IntersectionObserver"in window){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const s=e.target;this.imageLoader.loadImage(s),t.unobserve(s)}})},{rootMargin:"50px 0px",threshold:.01});document.querySelectorAll('img[loading="lazy"]').forEach(t=>{e.observe(t)})}}setupFormValidation(){document.querySelectorAll("form").forEach(e=>{e.addEventListener("submit",t=>{this.validateForm(e)||t.preventDefault()})})}validateForm(e){let t=!0;return e.querySelectorAll("input[required], textarea[required]").forEach(e=>{e.value.trim()?this.clearValidationError(e):(this.showValidationError(e,"This field is required"),t=!1)}),t}showValidationError(e,t){e.classList.add("is-invalid");let s=e.parentNode.querySelector(".form-error");s||(s=document.createElement("span"),s.className="form-error",e.parentNode.appendChild(s)),s.textContent=t}clearValidationError(e){e.classList.remove("is-invalid");const t=e.parentNode.querySelector(".form-error");t&&t.remove()}setupAccessibility(){document.addEventListener("keydown",e=>{"Tab"===e.key&&document.body.classList.add("using-keyboard")}),document.addEventListener("mousedown",()=>{document.body.classList.remove("using-keyboard")});const e=document.querySelector(".skip-link");e&&e.addEventListener("click",t=>{t.preventDefault();const s=document.querySelector(e.getAttribute("href"));s&&(s.focus(),s.scrollIntoView())})}handleResize(){window.innerWidth>=768&&(this.components.mobileMenu?.close(),this.components.mobileSearch?.close())}debounce(e,t){let s;return function(...i){clearTimeout(s),s=setTimeout(()=>{clearTimeout(s),e.apply(this,i)},t)}}}class MobileMenu{constructor(e){this.menuToggle=e.mobileMenuToggle,this.mobileNav=e.mobileNav,this.isOpen=!1,this.isAnimating=!1,this.classes={open:["opacity-100","scale-100","pointer-events-auto"],closed:["opacity-0","scale-95","pointer-events-none"]},this.bindEvents()}bindEvents(){this.menuToggle.addEventListener("click",e=>{e.preventDefault(),this.toggle()}),document.addEventListener("click",e=>{if(!this.isOpen)return;this.menuToggle.contains(e.target)||this.mobileNav?.contains(e.target)||this.close()}),this.mobileNav?.addEventListener("click",e=>{"A"===e.target.tagName&&this.close()})}toggle(){this.isAnimating||(this.isOpen?this.close():this.open())}open(){this.isOpen||this.isAnimating||(this.isAnimating=!0,this.isOpen=!0,requestAnimationFrame(()=>{this.menuToggle.setAttribute("aria-expanded","true"),this.mobileNav&&(this.mobileNav.classList.remove(...this.classes.closed),this.mobileNav.classList.add(...this.classes.open)),window.modelArena?.components?.mobileSearch?.close(),this.isAnimating=!1}))}close(){this.isOpen&&!this.isAnimating&&(this.isAnimating=!0,this.isOpen=!1,requestAnimationFrame(()=>{this.menuToggle.setAttribute("aria-expanded","false"),this.mobileNav&&(this.mobileNav.classList.remove(...this.classes.open),this.mobileNav.classList.add(...this.classes.closed)),this.isAnimating=!1}))}}class MobileSearch{constructor(e){this.searchToggle=e.mobileSearchToggle,this.searchField=e.mobileSearchField,this.menuToggle=e.mobileMenuToggle,this.isOpen=!1,this.searchInput=null,this.bindEvents()}bindEvents(){this.searchToggle.addEventListener("click",e=>{e.preventDefault(),this.toggle()}),document.addEventListener("click",e=>{if(!this.isOpen)return;this.searchToggle.contains(e.target)||this.searchField?.contains(e.target)||this.close()})}toggle(){this.isOpen?this.close():this.open()}open(){this.isOpen||(this.isOpen=!0,requestAnimationFrame(()=>{this.searchField?.classList.remove("hidden"),window.modelArena?.components?.mobileMenu?.close(),this.searchInput||(this.searchInput=this.searchField?.querySelector('input[type="search"]')),requestAnimationFrame(()=>{this.searchInput?.focus()})}))}close(){this.isOpen&&(this.isOpen=!1,requestAnimationFrame(()=>{this.searchField?.classList.add("hidden"),this.menuToggle?.classList.remove("hidden")}))}}class AuthModals{constructor(e){this.loginModal=e.loginModal,this.signupModal=e.signupModal,this.loginForm=null,this.signupForm=null,this.passwordToggles=new Map,this.modalElements=new Map,this.bindEvents(),this.setupPasswordToggles()}bindEvents(){document.addEventListener("click",e=>{const t=e.target,s=t.id,i="BUTTON"===t.tagName?t.textContent.trim():"";if("Log in"===i)return e.preventDefault(),void this.openLogin();if("Register"===i)return e.preventDefault(),void this.openSignup();switch(s){case"login-modal-close":this.closeLogin();break;case"signup-modal-close":this.closeSignup();break;case"open-signup-modal":this.switchToSignup();break;case"open-login-modal":this.switchToLogin()}t===this.loginModal?this.closeLogin():t===this.signupModal&&this.closeSignup()}),document.addEventListener("submit",e=>{const t=e.target.id;"login-form"===t?(e.preventDefault(),this.handleLogin(e.target)):"signup-form"===t&&(e.preventDefault(),this.handleSignup(e.target))})}switchToSignup(){this.closeLogin(),requestAnimationFrame(()=>this.openSignup())}switchToLogin(){this.closeSignup(),requestAnimationFrame(()=>this.openLogin())}setupPasswordToggles(){const e=document.getElementById("login-password-toggle"),t=document.getElementById("login-password");e?.addEventListener("click",()=>{this.togglePasswordVisibility(t,e)});const s=document.getElementById("signup-password-toggle"),i=document.getElementById("signup-password");s?.addEventListener("click",()=>{this.togglePasswordVisibility(i,s)});const o=document.getElementById("signup-confirm-password-toggle"),n=document.getElementById("signup-confirm-password");o?.addEventListener("click",()=>{this.togglePasswordVisibility(n,o)})}togglePasswordVisibility(e,t){const s="password"===e.type;e.type=s?"text":"password";const i=t.querySelector("svg");i.innerHTML=s?'<path d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3l18 18"/>':'<path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>'}openLogin(){this.closeSignup(),this.loginModal&&requestAnimationFrame(()=>{this.loginModal.classList.remove("hidden"),document.body.style.overflow="hidden",this.modalElements.has("loginFirstInput")||this.modalElements.set("loginFirstInput",this.loginModal.querySelector("input")),requestAnimationFrame(()=>{this.modalElements.get("loginFirstInput")?.focus()})})}closeLogin(){this.loginModal&&requestAnimationFrame(()=>{this.loginModal.classList.add("hidden"),document.body.style.overflow=""})}openSignup(){this.closeLogin(),this.signupModal&&requestAnimationFrame(()=>{this.signupModal.classList.remove("hidden"),document.body.style.overflow="hidden",this.modalElements.has("signupFirstInput")||this.modalElements.set("signupFirstInput",this.signupModal.querySelector("input")),requestAnimationFrame(()=>{this.modalElements.get("signupFirstInput")?.focus()})})}closeSignup(){this.signupModal&&requestAnimationFrame(()=>{this.signupModal.classList.add("hidden"),document.body.style.overflow=""})}closeAll(){this.closeLogin(),this.closeSignup()}handleLogin(e){const t=new FormData(e),s={email:t.get("email")?.trim(),password:t.get("password"),remember:Boolean(t.get("remember"))};s.email&&s.password?(console.log("Login attempt:",s),this.showSuccess("Login functionality would be implemented here")):this.showError("Please fill in all required fields")}handleSignup(e){const t=new FormData(e),s={fullName:t.get("fullName")?.trim(),email:t.get("email")?.trim(),password:t.get("password"),confirmPassword:t.get("confirmPassword"),terms:Boolean(t.get("terms"))};s.fullName&&s.email&&s.password?s.password===s.confirmPassword?s.terms?(console.log("Signup attempt:",s),this.showSuccess("Signup functionality would be implemented here")):this.showError("Please agree to the Terms & Conditions"):this.showError("Passwords do not match"):this.showError("Please fill in all required fields")}showError(e){console.error(e)}showSuccess(e){console.log(e)}}class SearchForm{constructor(){this.searchForm=document.querySelector(".search-form"),this.searchInput=document.querySelector(".search-form__input"),this.searchButton=document.querySelector(".search-form__button"),this.searchForm&&this.bindEvents()}bindEvents(){this.searchForm.addEventListener("submit",e=>{e.preventDefault(),this.handleSearch()}),this.searchInput.addEventListener("input",()=>{this.handleSearchInput()}),this.searchInput.addEventListener("keydown",e=>{"Escape"===e.key&&this.clearSearch()})}handleSearch(){const e=this.searchInput.value.trim();e&&(console.log("Searching for:",e),this.showSearchResults(e))}handleSearchInput(){const e=this.searchInput.value.trim();e.length>2?this.showSuggestions(e):this.hideSuggestions()}showSearchResults(e){console.log("Showing results for:",e)}showSuggestions(e){console.log("Showing suggestions for:",e)}hideSuggestions(){}clearSearch(){this.searchInput.value="",this.hideSuggestions(),this.searchInput.blur()}}class FavoriteButtons{constructor(){this.favoriteButtons=document.querySelectorAll(".favorite-btn"),this.favorites=this.loadFavorites(),this.favoriteButtons.length>0&&(this.bindEvents(),this.updateButtonStates())}bindEvents(){this.favoriteButtons.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),this.toggleFavorite(e)})})}toggleFavorite(e){const t=e.closest(".model-card"),s=t?.dataset.modelId||Math.random().toString(36).substr(2,9);this.favorites.includes(s)?(this.removeFavorite(s),e.classList.remove("is-active"),this.showToast("Removed from favorites")):(this.addFavorite(s),e.classList.add("is-active"),this.showToast("Added to favorites")),e.style.transform="scale(1.2)",setTimeout(()=>{e.style.transform=""},150)}addFavorite(e){this.favorites.push(e),this.saveFavorites()}removeFavorite(e){this.favorites=this.favorites.filter(t=>t!==e),this.saveFavorites()}loadFavorites(){try{return JSON.parse(localStorage.getItem("modelArenaFavorites")||"[]")}catch{return[]}}saveFavorites(){localStorage.setItem("modelArenaFavorites",JSON.stringify(this.favorites))}updateButtonStates(){this.favoriteButtons.forEach(e=>{const t=e.closest(".model-card"),s=t?.dataset.modelId;s&&this.favorites.includes(s)&&e.classList.add("is-active")})}showToast(e){const t=document.createElement("div");t.className="toast",t.textContent=e,t.style.cssText="\n      position: fixed;\n      bottom: 20px;\n      right: 20px;\n      background: var(--color-gray-900);\n      color: white;\n      padding: 12px 16px;\n      border-radius: 8px;\n      font-size: 14px;\n      z-index: 1000;\n      opacity: 0;\n      transform: translateY(20px);\n      transition: all 0.3s ease;\n    ",document.body.appendChild(t),requestAnimationFrame(()=>{t.style.opacity="1",t.style.transform="translateY(0)"}),setTimeout(()=>{t.style.opacity="0",t.style.transform="translateY(20px)",setTimeout(()=>{document.body.removeChild(t)},300)},3e3)}}class ImageLoader{constructor(){this.loadedImages=new Set}loadImage(e){if(this.loadedImages.has(e.src))return;const t=new Image;t.onload=()=>{e.src=t.src,e.classList.add("loaded"),this.loadedImages.add(e.src)},t.onerror=()=>{e.classList.add("error"),e.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDMwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjVGNUY1Ii8+CjxyZWN0IHg9IjEyNSIgeT0iMTc1IiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNFMEUwRTAiLz4KPC9zdmc+"},t.src=e.dataset.src||e.src}}class PerformanceMonitor{constructor(){this.measurePageLoad()}measurePageLoad(){window.addEventListener("load",()=>{if("performance"in window){const e=performance.getEntriesByType("navigation")[0];console.log("Page load time:",e.loadEventEnd-e.loadEventStart,"ms")}})}}const utils={debounce(e,t){let s;return function(...i){clearTimeout(s),s=setTimeout(()=>{clearTimeout(s),e(...i)},t)}},throttle(e,t){let s;return function(){const i=arguments,o=this;s||(e.apply(o,i),s=!0,setTimeout(()=>s=!1,t))}},formatNumber:e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString()};(()=>{"use strict";const e=()=>{window.modelArena=new ModelArena,new PerformanceMonitor};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e,{once:!0}):requestAnimationFrame(e)})(),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});